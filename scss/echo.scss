@import "_grid";

/** Resets **/
*, body, h1, h2, h3, h4, h5, h6 { margin: 0; }

/** Fonts **/
html, input, textarea { font-size: 11pt; line-height: 1.25; font-family: Arial; word-spacing: -0.1em; }
header, h1, h2, h3, h4, h5, h6 { font-family: 'Raleway', Arial;  }
a { text-decoration: none; color: blue; }
a:hover { text-decoration: underline; }

h1 { font-size: 32px; }
h2 { font-size: 24px; }
h3 { font-size: 20px; }
h4 { font-size: 16px; }

li { margin-bottom: 10px; }
p, ul, ol { margin-bottom: 1em; }
h2 + ol, h3 + ol, h4 + ol, h2 + ul, h3 + ul, h4 + ul { margin-top: 1em; }
.nopadd li { margin: 0; }

/** Tables **/
table { margin: 0; padding: 0; border-collapse: collapse; }
tr, th, td { border: 1px solid #ccc; margin: 0; padding: 2px 6px; }
th { background-color: #eee; }

/** Forms **/
form {
	/* Alignment */
	.left { width: 250px; float: left; text-align: right; }
	label.left, .left label { font-weight: bold; }
	p.left, .left p { font-size: 80%; font-style: italic; margin: 0; }
	.right, label.error { width: 430px; float: right; }

	.error { color: red; }
	label.error { font-size: 80%; }	
}

fieldset { border: 0; margin: 0; padding: 0; padding: 10px 0; }

input {
	border: none; border-bottom: 1px solid #ccc; padding: 4px;
	font-size: inherit;

	&[type='submit'] {
		padding: 5px 10px 5px;
		text-shadow: 0 -1px -1px rgba(0,0,0,0.25);
		box-shadow: 0 1px 3px rgba(0,0,0,0.25);
		border: 1px solid #888;
		border-radius: 5px;
		color: black; 
		background: #ddd;
		cursor: pointer;
	}
	&[type='submit']:active {
		-webkit-transform: translateY(1px);
		-ms-transform: translateY(1px);
		-moz-transform: translateY(1px);
		box-shadow: 0 1px 4px rgba(0,0,0,0.50);
	}
}

%formpage { // for pages which are just a form
	form { margin-top: 1em; line-height: 1.5; width: 700px; margin: auto; font-size: 13pt; }
	input[type='submit'] {
		display: block; margin: 1em auto;
		color: white; background: black;
	}
}

/** Colours **/
html { background-color: #eee; color: #222; }
header { border-bottom: 4px solid black; background-color: darkseagreen; padding-left: 10px; box-shadow: 0 0 20px #ccc; padding-top: 5px; }
header .about { font-size: 120%; margin: 0 0 10px 0; }

/** Message box */
p.msg {
	display: block;
	width: 40%;
	left: 30%;
	top: 30%;
	position: fixed;
	background-color: #fff;
	border: 1px solid black;
	border-radius: 4px;
	padding: { top: 1em; bottom: 1em; }
	box-shadow: 0 0 10px 10px white;

	font-weight: bold; text-align: center; font-size: 120%;

	img { padding-right: 1em; }
}

/*** Page layout ***/

$columns: 12;
$column-width: 64;
$gutter-width: 20;
$column-pad: 1.5%;
$total-width: 100%;

.content { max-width: 1008px; margin: auto; }
header .content { padding-left: 10px; } // account for the fact that header .content doesn't use a grid layout but needs a margin to line up with the grid below

/* Sections are used to contain page content */
section {
	@include column($columns);
	background-color: white;
	margin-bottom: 2em;
	padding: { top: 10px; bottom: 10px; }
	@media (min-width: 800px) {
		box-shadow: 0 0 20px #ccc;
	}

	.sublinks { margin: -18px 0 0 0; text-align: right; }
}

.event {
	margin-bottom: 1em;

	span { display: block; }
	.time { float: left; }
	.title { font-weight: bold; }
	.location { font-style: italic; margin-bottom: 7px; }
	.block { margin-left: 3.2em; }
	.more { text-align: right; }
	.fb { border: 1px solid #666; border-radius: 3px; background-color: #3B5998; color: #eee; padding: 0px 6px; }
	.fb:hover { text-decoration: none; background-color: #7C90BA; }

	& + * { clear: both; }
}

.post {
	margin: 1em 0 1em 0; clear: both;
	margin-top: 0.5em; margin-bottom: 1.5em;

	h4 { font-size: 18px; font-weight: 700; margin-bottom: 2px; }
	img { float: right; padding: 1px 2px 2px 10px; }
	p { margin: 0; }
	.more { font-style: italic; }
	.date { font-size: 75%; margin-top: 0.5em; text-align: right; clear: both; }
}

.admin { // admin controls for posts/events
	display: block; margin-top: 10px;

	form { display: inline; clear: both; }
	p { display: inline-block; }
	a { @extend input[type='submit']; }
	input, a { font-size: 17px; display: inline-block; float: left; padding: 0 10px; margin: 0; margin-bottom: 15px; margin-right: 1em; }
	:hover { text-decoration: none; }
}

.toc {
	border: 1px solid #ccc; width: auto; float: right; font-size: 90%; padding-top: 5px; padding-bottom: 5px; padding-left: 30px; margin-left: 20px;
	li { margin: 0; }
	b { display: block; margin-bottom: 5px; margin-left: -20px; font-size: 110%; }
}

/* Individual pages */

#index {
	h2 { text-align: center; letter-spacing: 2px; font-size: 100%; }

	@media (min-width: 800px) {
		#news { @include column(5); font-size: 90%; } //margin-left: 0; }
		#events { @include column(7); } //margin-right: 0; }
	}

	@media (max-width: 800px) {
		#events { border-top: 2px solid black; }
	}

	#events h3 {
		letter-spacing: 1px; font-weight: normal;
		border-bottom: 1px solid black;
		clear: both;
		margin-bottom: 0.5em; margin-top: 0.5em; padding: 0;
	}
}

#login {
	input { display: block; margin: 10px 0; padding: 5px; }
	input[type="submit"] { font-size: 120%; font-weight: bold; }
}

#dashboard {
	h2 { margin-bottom: 10px; }
	h3 { margin-bottom: 5px; }
}

#venue .info { margin-top: 1em; }

#event_add, #venue_add {
	@extend %formpage;

	.count { font-size: 80%; text-align: right; }
	.overcount { color: red; }

	/* Individual fields */
	.time { width: 3em; }
	.date { width: 14em; cursor: pointer; 
		background-image: url(../img/calendar.png); background-repeat: no-repeat; background-position: 98% 50%; }
	.film { background-image: url(../img/film.png); background-repeat: no-repeat; background-position: 5px 7px; text-indent: 22px; }

	/* Venues */
	#venues { margin-bottom: 10px; margin-top: -10px; font-size: 80%; width: 600px; float: right; }
	#venues.empty { color: #bbb; }

	#venues ul, #venues li { list-style-type: none; padding: 0; margin: 0; }

	#vlist { height: 104px; border: 1px solid #ccc; border-radius: 4px; }
	#vlist.selected { color: #bbb; }

	#vlist li { width: 289px; float: left; padding: 4px 5px; cursor: pointer; height: 18px; }
	#vlist li.selected { background-color: #eee; color: black; }
	#vlist li:hover { background-color: #ddd; }
}

/* Flatten out page on smaller width devices */
@media (max-width: 800px) {
	section {
		$column-pad: 3%;
		@include column($columns,$columns,false); margin: {left: 0; right: 0; };
	}
}
