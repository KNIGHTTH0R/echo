CREATE TABLE venues
{
	name TEXT PRIMARY KEY,
	address TEXT,
	info TEXT
};

CREATE TABLE events
(
	id INT PRIMARY KEY,

	/* Event data */
	title TEXT,
	date DATETIME,
	location TEXT,
	blurb TEXT,
	url TEXT,
	type TEXT, /* ATM this can only be "film" */
	free INT	/* 1 = free, 0 = not free */

	/* State crap *
	email TEXT,		/* Delete after submitted? */
	state TEXT,		/* "submitted", "validated", "approved" */
	key TEXT,		/* key needed for validation */
);

CREATE TABLE users
(
	email TEXT PRIMARY KEY,
	banned BOOLEAN,
	password TEXT
);

-- 

CREATE TABLE posts (
	id TEXT PRIMARY KEY,
	title TEXT,
	link TEXT,
	date DATETIME,
	summary TEXT,
	image TEXT,	 /* this is an URL... maybe make it a data: link? */
	feed_url TEXT
);

CREATE TABLE feeds (
	feed_url TEXT PRIMARY KEY,
	site_url TEXT,
	title TEXT
);

CREATE VIEW post_info AS SELECT * FROM posts LEFT OUTER JOIN feeds ON posts.feed_url = feeds.feed_url;
